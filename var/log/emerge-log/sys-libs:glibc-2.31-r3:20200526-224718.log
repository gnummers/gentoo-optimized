 * Package:    sys-libs/glibc-2.31-r3
 * Repository: gentoo
 * Maintainer: toolchain@gentoo.org
 * USE:        abi_x86_64 amd64 caps crypt elibc_glibc gd kernel_linux multiarch multilib nscd profile static-libs systemtap userland_GNU
 * FEATURES:   network-sandbox preserve-libs sandbox userpriv usersandbox
 * /etc/portage/package.cflags/ltoworkarounds.conf -> sys-libs/glibc: *FLAGS-=-flto* #Alternative: *FLAGS+=-ffat-lto-objects *FLAGS-="${IPAPTA}" Fails in configure stage with LTO enabled, checking for builtin redirect.  With -ffat-lto-objects, and no -fipa-pta, we get further, but get multiple definition errors  Forcing past that yields undefined symbol errors.
 * /etc/portage/package.cflags/ltoworkarounds.conf -> >=sys-libs/glibc-2.30: /-Ofast/'-O3 ${SAFEST_FAST_MATH}' /-ffast-math/'${SAFEST_FAST_MATH}' # preprocessor in the source throws an error if ffast-math is enabled
 * /etc/portage/package.cflags/ltoworkarounds.conf -> sys-libs/glibc: *FLAGS-="-mtls-dialect=gnu2"
 * /etc/portage/package.cflags/ltoworkarounds.conf -> sys-libs/glibc: *FLAGS-="${SEMINTERPOS}"
 * /etc/portage/package.cflags/ltoworkarounds.conf -> sys-libs/glibc: *FLAGS-="-fno-plt" #When using prelink, will cause a bunch of segfaults.
 * FEATURES='binpkg-docompress cgroup ipc-sandbox merge-sync network-sandbox pid-sandbox unknown-features-warn unmerge-logs userpriv qa-unresolved-soname-deps nodoc preserve-libs distlocks parallel-fetch buildpkg binpkg-dostrip usersync assume-digests binpkg-logs usersandbox unmerge-backup config-protect-if-modified fixlafiles binpkg-multi-instance parallel-install multilib-strict userfetch sandbox downgrade-backup sfperms compress-index unmerge-orphans news strict-keepdir strict xattr'
 * CFLAGS='-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread'
 * CXXFLAGS='-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread'
 * FFLAGS='-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread'
 * FCFLAGS='-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread'
 * F77FLAGS='-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread'
 * LDFLAGS='-Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread'
 * MAKEOPTS='-j12 -l12'
 * gcc () 11.0.0 20200526 (experimental)
 * g++ () 11.0.0 20200526 (experimental)
 * GNU ld (Gentoo 2.34 p4) 2.34.0
 * Linux ryzen.gnum.org 5.4.36 #1 SMP Thu Apr 30 04:38:28 UTC 2020 x86_64 AMD Ryzen 5 3600 6-Core Processor AuthenticAMD GNU/Linux
sys-libs/glibc: 5 minutes, 10 seconds average for 12 merges
2020-05-15T03:10:02 >>> sys-libs/glibc: 16 minutes, 34 seconds
2020-05-16T01:15:07 >>> sys-libs/glibc: 4 minutes, 48 seconds
2020-05-16T16:44:06 >>> sys-libs/glibc: 4 minutes, 53 seconds
2020-05-19T23:52:06 >>> sys-libs/glibc: 16 seconds
2020-05-20T01:46:08 >>> sys-libs/glibc: 7 minutes, 15 seconds
2020-05-20T04:31:22 >>> sys-libs/glibc: 9 seconds
2020-05-20T04:57:49 >>> sys-libs/glibc: 10 seconds
2020-05-21T00:11:21 >>> sys-libs/glibc: 7 minutes, 14 seconds
2020-05-24T13:37:55 >>> sys-libs/glibc: 7 minutes
2020-05-25T15:04:17 >>> sys-libs/glibc: 7 minutes, 38 seconds
2020-05-26T05:07:26 >>> sys-libs/glibc: 5 minutes, 56 seconds
2020-05-26T14:34:02 >>> sys-libs/glibc: 10 seconds
]0;emerge 00:47:20 1|1 glibc 04:35 (root@ryzen.gnum.org)kemerge 00:47:20 1|1 glibc 04:35 (root@ryzen.gnum.org)\ * Using python3.8 to build
>>> Unpacking source...
make -j12 -l12 glibc-test 
cc -march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread   -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread  glibc-test.c   -o glibc-test
 * Checking that IA32 emulation is enabled in the running kernel ...
 [ ok ]
 * Checking gcc for __thread support ...
 [ ok ]
 * Checking running kernel version (5.4.36 >= 3.2.0) ...
 [ ok ]
 * Checking linux-headers version (5.6.0 >= 3.2.0) ...
 [ ok ]
>>> Unpacking gcc-multilib-bootstrap-20180511.tar.xz to /tmp/portage/sys-libs/glibc-2.31-r3/work
 * strip-flags: CFLAGS: changed '-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread' to '-march=native -pipe -g0 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread -O2'
 * strip-flags: CXXFLAGS: changed '-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread' to '-march=native -pipe -g0 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread -O2'
 * strip-flags: FFLAGS: changed '-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread' to '-march=native -pipe -g0 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread -O2'
 * strip-flags: FCFLAGS: changed '-march=native -O3 -fgraphite-identity -floop-nest-optimize -fdevirtualize-at-ltrans -fipa-pta -fno-signed-zeros -fno-trapping-math -fassociative-math -freciprocal-math -fno-math-errno -ffinite-math-only -fno-rounding-math -fno-signaling-nans -fcx-limited-range -fexcess-precision=fast -fuse-linker-plugin -pipe -g0 -falign-functions=32 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread' to '-march=native -pipe -g0 -Wl,-O1 -Wl,--as-needed -Wl,-O4,--hash-style=gnu,--sort-common,--as-needed,-z,relro,-z,now,-lgomp,-lpthread -O2'
 *       Manual CC:   x86_64-pc-linux-gnu-gcc -m64
>>> Unpacking glibc-2.31.tar.xz to /tmp/portage/sys-libs/glibc-2.31-r3/work
>>> Unpacking glibc-2.31-patches-5.tar.xz to /tmp/portage/sys-libs/glibc-2.31-r3/work
>>> Unpacking locale-gen-2.00.tar.gz to /tmp/portage/sys-libs/glibc-2.31-r3/work
>>> Source unpacked in /tmp/portage/sys-libs/glibc-2.31-r3/work
>>> Preparing source in /tmp/portage/sys-libs/glibc-2.31-r3/work/glibc-2.31 ...
 * Applying Gentoo Glibc Patchset 2.31-5
 * Applying patches from /tmp/portage/sys-libs/glibc-2.31-r3/work/patches ...
 *   0001-Gentoo-disable-ldconfig-during-install.patch ...
/tmp/portage/sys-libs/glibc-2.31-r3/temp/environment: line 2345:    41 Aborted                 ${patch_cmd} "${all_opts[@]}" --dry-run -s -F0 < "${f}" &> /dev/null
Fatal error: glibc detected an invalid stdio handle
/tmp/portage/sys-libs/glibc-2.31-r3/temp/environment: line 2345:    42 Aborted                 ${patch_cmd} "${all_opts[@]}" < "${f}"
 [ !! ]
 * ERROR: sys-libs/glibc-2.31-r3::gentoo failed (prepare phase):
 *   patch -p1  failed with /tmp/portage/sys-libs/glibc-2.31-r3/work/patches/0001-Gentoo-disable-ldconfig-during-install.patch
 * 
 * Call stack:
 *               ebuild.sh, line  125:  Called src_prepare
 *             environment, line 4685:  Called eapply '/tmp/portage/sys-libs/glibc-2.31-r3/work/patches'
 *             environment, line 2414:  Called _eapply_patch '/tmp/portage/sys-libs/glibc-2.31-r3/work/patches/0001-Gentoo-disable-ldconfig-during-install.patch' '  '
 *             environment, line 2356:  Called __helpers_die 'patch -p1  failed with /tmp/portage/sys-libs/glibc-2.31-r3/work/patches/0001-Gentoo-disable-ldconfig-during-install.patch'
 *   isolated-functions.sh, line  112:  Called die
 * The specific snippet of code:
 *   		die "$@"
 * 
 * If you need support, post the output of `emerge --info '=sys-libs/glibc-2.31-r3::gentoo'`,
 * the complete build log and the output of `emerge -pqv '=sys-libs/glibc-2.31-r3::gentoo'`.
 * The complete build log is located at '/var/log/emerge-log/sys-libs:glibc-2.31-r3:20200526-224718.log'.
 * For convenience, a symlink to the build log is located at '/tmp/portage/sys-libs/glibc-2.31-r3/temp/build.log'.
 * The ebuild environment file is located at '/tmp/portage/sys-libs/glibc-2.31-r3/temp/environment'.
 * Working directory: '/tmp/portage/sys-libs/glibc-2.31-r3/work/glibc-2.31'
 * S: '/tmp/portage/sys-libs/glibc-2.31-r3/work/glibc-2.31'
