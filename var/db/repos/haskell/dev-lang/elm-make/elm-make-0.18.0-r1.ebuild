# Copyright 1999-2017 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2

EAPI=6

# ebuild generated by hackport 0.5.1

CABAL_FEATURES=""
inherit haskell-cabal

DESCRIPTION="A build tool for Elm projects"
HOMEPAGE="http://elm-lang.org"
SRC_URI="https://github.com/elm-lang/${PN}/archive/${PV}.tar.gz -> ${P}.tar.gz"

LICENSE="BSD"
SLOT="0"
KEYWORDS="~amd64 ~x86"
IUSE=""

RDEPEND="dev-haskell/aeson:=
	dev-haskell/ansi-terminal:=
	dev-haskell/ansi-wl-pprint:=
	dev-haskell/blaze-html:=
	dev-haskell/blaze-markup:=
	>=dev-haskell/mtl-2.2.1:= <dev-haskell/mtl-3:=
	>=dev-haskell/optparse-applicative-0.11:=
	dev-haskell/raw-strings-qq:=
	dev-haskell/text:=
	~dev-lang/elm-compiler-${PV}:=
	dev-lang/elm-package:=
	>=dev-lang/ghc-7.4.1:=
"
DEPEND="${RDEPEND}
	>=dev-haskell/cabal-1.9
"

src_prepare() {
	default

	cabal_chdeps \
		'optparse-applicative >=0.11 && <0.12' 'optparse-applicative >=0.11'
}
