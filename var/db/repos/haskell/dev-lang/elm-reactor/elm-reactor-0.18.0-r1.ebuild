# Copyright 1999-2018 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2

EAPI=6

# ebuild generated by hackport 0.5.1

CABAL_FEATURES=""
inherit haskell-cabal

DESCRIPTION="Interactive development tool for Elm programs"
HOMEPAGE="http://elm-lang.org"
SRC_URI="https://github.com/elm-lang/${PN}/archive/${PV}.tar.gz -> ${P}.tar.gz"

LICENSE="BSD"
SLOT="0"
KEYWORDS="~amd64 ~x86"
IUSE=""

RDEPEND=">=dev-haskell/aeson-0.7:=
	dev-haskell/blaze-html:=
	dev-haskell/blaze-markup:=
	dev-haskell/cmdargs:=
	dev-haskell/file-embed:=
	>=dev-haskell/fsnotify-0.2:=
	dev-haskell/mtl:=
	dev-haskell/snap-core:=
	dev-haskell/snap-server:=
	dev-haskell/text:=
	dev-haskell/unordered-containers:=
	dev-haskell/utf8-string:=
	>=dev-haskell/websockets-0.9:=
	>=dev-haskell/websockets-snap-0.8.2.1:=
	~dev-lang/elm-compiler-${PV}:=
	dev-lang/elm-package:=
	>=dev-lang/ghc-8.0.2:=
"
DEPEND="${RDEPEND}
	>=dev-haskell/cabal-1.18.1.3
	~dev-lang/elm-make-${PV}
"

src_prepare() {
	default

	cabal_chdeps \
		'websockets >= 0.9 && < 0.10' 'websockets >= 0.9'
}
