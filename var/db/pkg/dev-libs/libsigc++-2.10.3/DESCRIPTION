Typesafe callback system for standard C++
